.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "XDG-MIME" 1 "" "" "xdg-mime Manual"
.SH NAME
xdg-mime \- command line tool for querying information about file type handling and adding descriptions for new file types
.SH "SYNOPSIS"
.ad l
.hy 0
.HP 9
\fBxdg\-mime\fR query {\fBfiletype\fR | \fBdefault\fR} \&.\&.\&.
.ad
.hy
.ad l
.hy 0
.HP 9
\fBxdg\-mime\fR default \fIapplication\fR \fImimetype(s)\fR
.ad
.hy
.ad l
.hy 0
.HP 9
\fBxdg\-mime\fR install [\fB\-\-mode\ \fImode\fR\fR] \fImimetypes\-file\fR
.ad
.hy
.ad l
.hy 0
.HP 9
\fBxdg\-mime\fR uninstall [\fB\-\-mode\ \fImode\fR\fR] \fImimetypes\-file\fR
.ad
.hy
.ad l
.hy 0
.HP 9
\fBxdg\-mime\fR {\fB\fB\-\-help\fR\fR | \fB\fB\-\-manual\fR\fR | \fB\fB\-\-version\fR\fR}
.ad
.hy

.SH "DESCRIPTION"

.PP
The xdg\-mime program can be used to query information about file types and to add descriptions for new file types\&.

.SH "COMMANDS"

.TP
query
Returns information related to file types\&.

The \fIquery\fR option is for use inside a desktop session only\&. It is not recommended to use xdg\-mime query as root\&.

The following queries are supported:

query filetype \fIFILE\fR: Returns the file type of \fIFILE\fR in the form of a MIME type\&.

query default \fImimetype\fR: Returns the default application that the desktop environment uses for opening files of type \fImimetype\fR\&. The default application is identified by its *\&.desktop file\&.

.TP
default
Ask the desktop environment to make \fIapplication\fR the default application for opening files of type \fImimetype\fR\&. An application can be made the default for several file types by specifying multiple mimetypes\&.

 \fIapplication\fR is the desktop file id of the application and has the form vendor\-name\&.desktop \fIapplication\fR must already be installed in the desktop menu before it can be made the default handler\&. The aplication's desktop file must list support for all the MIME types that it wishes to be the default handler for\&.

Requests to make an application a default handler may be subject to system policy or approval by the end\-user\&. xdg\-mime query can be used to verify whether an application is the actual default handler for a specific file type\&.

The \fIdefault\fR option is for use inside a desktop session only\&. It is not recommended to use xdg\-mime default as root\&.

.TP
install
Adds the file type descriptions provided in \fImimetypes\-file\fR to the desktop environment\&. \fImimetypes\-file\fR must be a XML file that follows the freedesktop\&.org Shared MIME\-info Database specification and that has a mime\-info element as its document root\&. For each new file type one or more icons with name \fImajor\fR\-\fIminor\fR must be installed with the \fBxdg\-icon\-resource\fR command in the \fImimetypes\fR context\&. For example the application/vnd\&.oasis\&.opendocument\&.text filetype requires an icon by the name of application\-vnd\&.oasis\&.opendocument\&.text to be installed\&.

.TP
uninstall
Removes the file type descriptions provided in \fImimetypes\-file\fR and previously added with \fBxdg\-mime install\fR from the desktop environment\&. \fImimetypes\-file\fR must be a XML file that follows the freedesktop\&.org Shared MIME\-info Database specification and that has a mime\-info element as its document root\&.

.SH "OPTIONS"

.TP
\fB\-\-mode\fR \fImode\fR
\fImode\fR can be \fIuser\fR or \fIsystem\fR\&. In user mode the file is (un)installed for the current user only\&. In system mode the file is (un)installed for all users on the system\&. Usually only root is allowed to install in system mode\&.

The default is to use system mode when called by root and to use user mode when called by a non\-root user\&.

.TP
\fB\-\-help\fR
Show command synopsis\&.

.TP
\fB\-\-manual\fR
Show this manualpage\&.

.TP
\fB\-\-version\fR
Show the xdg\-utils version information\&.

.SH "ENVIRONMENT VARIABLES"

.PP
xdg\-mime honours the following environment variables:

.TP
XDG_UTILS_DEBUG_LEVEL
Setting this environment variable to a non\-zero numerical value makes xdg\-mime do more verbose reporting on stderr\&. Setting a higher value increases the verbosity\&.

.SH "EXIT CODES"

.PP
An exit code of 0 indicates success while a non\-zero exit code indicates failure\&. The following failure codes can be returned:

.TP
\fB1\fR
Error in command line syntax\&.

.TP
\fB2\fR
One of the files passed on the command line did not exist\&.

.TP
\fB3\fR
A required tool could not be found\&.

.TP
\fB4\fR
The action failed\&.

.TP
\fB5\fR
No permission to read one of the files passed on the command line\&.

.SH "SEE ALSO"

.PP
\fBxdg\-icon\-resource\fR(1), \fBxdg\-desktop\-menu\fR(1) 

.SH "EXAMPLES"

.PP
 

.nf

xdg\-mime query filetype /tmp/foobar\&.png

.fi
Prints the MIME type of the file /tmp/foobar\&.png, in this case image/png

.PP
 

.nf

xdg\-mime query default image/png

.fi
Prints the \&.desktop filename of the application which is registered to open PNG files\&.

.PP
 

.nf

xdg\-mime install diff\&.xml

.fi
Adds a file type description for "diff"\-files\&. The file type description could look as folows\&. 

.nf

diff\&.xml:

<?xml version="1\&.0"?>
<mime\-info xmlns='http://www\&.freedesktop\&.org/standards/shared\-mime\-info'>
  <mime\-type type="text/x\-diff">
    <comment>Differences between files</comment>
    <glob pattern="*\&.diff"/>
    <glob pattern="*\&.patch"/>
  </mime\-type>
</mime\-info>

.fi
An icon for this new file type must alsobe installed, for example with: 

.nf

xdg\-icon\-resource install \-\-context mimetypes \-\-size 64 text\-x\-diff\&.png

.fi
 

.SH AUTHORS
Kevin Krammer, Jeremy White.
