#!/bin/sh
#---------------------------------------------
#   xdg-email
#
#   Utility script to open the users favorite email program, using the
#       RFC 2368 mailto: URI spec
#
#   Refer to the usage() function below for usage.
#---------------------------------------------
usage()
{
    APP=`basename $0`
    echo "Opens a given mailto URI registered default application"
    echo "Usage:"
    echo $APP mailto-uri
    echo
    echo $APP "\'mailto:jwhite@codeweavers.com?subject=This rocks&body=Nice work!&attachment=/tmp/money.png\'"
    exit 1
}

open_kde()
{
    kfmclient exec "$1"

    exit $?
}

open_gnome()
{
    gnome-open "$1"

    exit $?
}


[ "$1" != "" ] || usage

#@xdg-utils-common@

case "$DE" in
    kde)
    open_kde "$1"
    ;;

    gnome)
    open_gnome "$1"
    ;;

    *)
    echo Sorry, no method available for opening "$1"
    exit 2
    ;;
esac
