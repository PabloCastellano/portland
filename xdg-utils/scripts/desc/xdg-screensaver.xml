<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl"
   href="http://docbook.sourceforge.net/release/xsl/current/manpages/docbook.xsl"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
    "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
]>
<refentry id="xdg-screensaver">
  <refentryinfo>
    <title>xdg-screensaver Manual</title>
    <copyright>
      <year>2006</year>
    </copyright>
    <author>
      <firstname>Bryce</firstname>
      <surname>Harrington</surname>
    </author>
    <address><email>bryce@osdl.org</email></address>
    <releaseinfo>This is release 0.1 of the xdg-screensaver Manual.</releaseinfo>
  </refentryinfo>

  <refmeta>
    <refentrytitle>xdg-screensaver</refentrytitle>
    <manvolnum>1</manvolnum>
  </refmeta>

  <refnamediv>
    <refname>xdg-screensaver</refname>
    <refpurpose>Control the screensaver</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis>
      <command>xdg-screensaver</command>
      <group choice="req">
        <arg choice="plain"><option>suspend <replaceable>delay</replaceable></option></arg>
        <arg choice="plain"><option>restore</option></arg>
        <arg choice="plain"><option>activate</option></arg>
        <arg choice="plain"><option>reset</option></arg>
        <arg choice="plain"><option>status</option></arg>
      </group>
    </cmdsynopsis>
    <cmdsynopsis>
      <command>xdg-screensaver</command>
      <group choice="req">
        <arg choice="plain"><option>--help</option></arg>
        <arg choice="plain"><option>--version</option></arg>
      </group>
    </cmdsynopsis>
  </refsynopsisdiv>

  <refsect1 id="description">
    <title>Description</title>
    <para>
      xdg-screensaver provides commands to control the screensaver
    </para>
    <para>
      xdg-screensaver is for use inside a desktop session only.
      It is not recommended to use xdg-screensaver as root.
    </para>
  </refsect1>
  <refsect1 id="options">
    <title>Options</title>
    <variablelist>
      <varlistentry>
        <term><option>suspend <replaceable>delay</replaceable></option></term>
        <listitem>
          <simpara>
            Suspends the screensaver and monitor power management for
            the amount of time given by
            <replaceable>delay</replaceable>, or 60 minutes if
            unspecified.  This is of the form NUMBERSUFFIX, such as
            45m, 4h, or 30s.  SUFFIX may be `s' for seconds (the
            default), `m' for minutes, `h' for hours or `d' for days
            This is intended to allow preventing the screensaver coming
            on during a presentation, and return it to normal behavior
            after the specified delay.
          </simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><option>restore</option></term>
        <listitem>
          <simpara>
            Restores the screensaver state, timeout, etc. to the 
            user's standard settings.
          </simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><option>activate</option></term>
        <listitem>
          <simpara>
            Turns the screensaver on immediately.
          </simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><option>reset</option></term>
        <listitem>
          <simpara>
            Turns the screensaver off immediately.
          </simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term><option>status</option></term>
        <listitem>
          <simpara>
            Returns true if the screensaver is enabled to turn on after
            a period of inactivty, or false otherwise.
          </simpara>
        </listitem>
      </varlistentry>

      <varlistentry>
	<term><option>--help</option></term>
	<listitem>
	  <simpara>
	    Show this help.
	  </simpara>
	</listitem>
      </varlistentry>

      <varlistentry>
        <term><option>--version</option></term>
        <listitem>
          <simpara>
            Show the xdg-utils version information.
          </simpara>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1 id="exitcodes">
    <title>Exit Codes</title>
    <para>
      An exit code of 0 indicates success while a non-zero exit code
      indicates failure. The following failure codes can be returned:
    </para>
    <variablelist>
      <varlistentry>
	<term><option>1</option></term>
	<listitem>
	  <simpara>
	    Error in command line syntax.
	  </simpara>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>2</option></term>
	<listitem>
	  <simpara>
	    One of the files passed on the command line did not exist.
	  </simpara>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>3</option></term>
	<listitem>
	  <simpara>
	    A required tool could not be found. 
	  </simpara>
	</listitem>
      </varlistentry>
      <varlistentry>
	<term><option>4</option></term>
	<listitem>
	  <simpara>
	    The action failed. 
	  </simpara>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>
  <refsect1 id="examples">
    <title>Examples</title>
    <para>
<programlisting>
xdg-screensaver suspend 3h
</programlisting>
        Causes the screensaver to not turn on due to inactivity, for 3
        hours, after which time it will return to automatic activation.
    </para>
  </refsect1>
  <refsect1 id="bugs">
    <title>Bugss</title>
    <para>
        There is no provision for cancelling a suspend operation.  If a 
        second suspend is started before the first one is completed,
	then the screensaver will be restored to its original state
	before the second suspend is able to complete.
    </para>
    <para>
        For example, if a presenter completes her presentation, and a
	second presenter starts before the delay is over, then the
        screensaver could come on during the second presentation.
    </para>
    <para>
        True suspend functionality will require cooperation from the X
	server.  The Xorg group has implemented an extension that allows
	an application to disable the screensaver while it is connected,
        which will re-enable the screensaver.  xdg-screensaver should be
	updated to take advantage of this functionality when it is
	available.
    </para>
  </refsect1>
</refentry>
